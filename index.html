<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebbGames Desktop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <canvas id="spaceCanvas"></canvas>
    
    <!-- Desktop Container -->
    <div class="desktop-container">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="system-info">
                <div class="info-item" data-info="cpu">
                    <i class="fas fa-microchip"></i>
                    <span id="cpuUsage">CPU 45%</span>
                </div>
                <div class="info-item" data-info="memory">
                    <i class="fas fa-memory"></i>
                    <span id="memoryUsage">8.2GB</span>
                </div>
                <div class="info-item" data-info="temperature">
                    <i class="fas fa-thermometer-half"></i>
                    <span id="tempReading">62¬∞C</span>
                </div>
            </div>
            
            <div class="time-section" id="timeSection">
                <div id="currentTime" class="current-time"></div>
                <div id="currentDate" class="current-date"></div>
            </div>
        </div>

        <!-- Main Desktop Area -->
        <div class="desktop-main">
            <div class="games-grid">
                <div class="game-card" data-game="space-explorer">
                    <div class="game-icon-wrapper">
                        <div class="game-icon">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <div class="icon-glow"></div>
                    </div>
                    <div class="game-title">Space Explorer</div>
                    <div class="game-subtitle">Action Adventure</div>
                </div>

                <div class="game-card" data-game="mind-bender">
                    <div class="game-icon-wrapper">
                        <div class="game-icon">
                            <i class="fas fa-puzzle-piece"></i>
                        </div>
                        <div class="icon-glow"></div>
                    </div>
                    <div class="game-title">Mind Bender</div>
                    <div class="game-subtitle">Puzzle Strategy</div>
                </div>

                <div class="game-card" data-game="speed-racer">
                    <div class="game-icon-wrapper">
                        <div class="game-icon">
                            <i class="fas fa-car-side"></i>
                        </div>
                        <div class="icon-glow"></div>
                    </div>
                    <div class="game-title">Speed Racer</div>
                    <div class="game-subtitle">Racing Simulation</div>
                </div>

                <div class="game-card" data-game="strategy-master">
                    <div class="game-icon-wrapper">
                        <div class="game-icon">
                            <i class="fas fa-chess-king"></i>
                        </div>
                        <div class="icon-glow"></div>
                    </div>
                    <div class="game-title">Strategy Master</div>
                    <div class="game-subtitle">Turn-based Strategy</div>
                </div>

                <div class="game-card" data-game="quest-world">
                    <div class="game-icon-wrapper">
                        <div class="game-icon">
                            <i class="fas fa-map-marked-alt"></i>
                        </div>
                        <div class="icon-glow"></div>
                    </div>
                    <div class="game-title">Quest World</div>
                    <div class="game-subtitle">Open World RPG</div>
                </div>

                <div class="game-card" data-game="cyber-strike">
                    <div class="game-icon-wrapper">
                        <div class="game-icon">
                            <i class="fas fa-crosshairs"></i>
                        </div>
                        <div class="icon-glow"></div>
                    </div>
                    <div class="game-title">Cyber Strike</div>
                    <div class="game-subtitle">FPS Shooter</div>
                </div>
            </div>
        </div>

        <!-- Bottom Taskbar -->
        <div class="taskbar">
            <div class="taskbar-section taskbar-left">
                <div class="start-menu" id="startButton">
                    <div class="start-icon">
                        <i class="fab fa-windows"></i>
                    </div>
                    <span class="start-text">WebbGames</span>
                </div>
                
                <div class="quick-apps">
                    <div class="app-icon active" title="Games" data-app="games">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <div class="app-icon" title="Files" data-app="files">
                        <i class="fas fa-folder"></i>
                    </div>
                    <div class="app-icon" title="Settings" data-app="settings">
                        <i class="fas fa-cog"></i>
                    </div>
                    <div class="app-icon" title="Browser" data-app="browser">
                        <i class="fas fa-globe"></i>
                    </div>
                </div>
            </div>

            <div class="taskbar-section taskbar-right">
                <div class="system-tray">
                    <div class="tray-icon" title="Network" data-tray="network">
                        <i class="fas fa-wifi"></i>
                    </div>
                    <div class="tray-icon" title="Audio" data-tray="audio">
                        <i class="fas fa-volume-up"></i>
                    </div>
                    <div class="tray-icon" title="Battery" data-tray="power">
                        <i class="fas fa-battery-three-quarters"></i>
                    </div>
                </div>
                
                <div class="taskbar-time">
                    <div id="taskbarTime" class="time-text"></div>
                    <div id="taskbarDate" class="date-text"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div id="contextMenu" class="context-menu hidden">
        <div class="context-header">
            <span id="contextGameName">Game Options</span>
        </div>
        <div class="context-items">
            <div class="context-item" data-action="launch">
                <i class="fas fa-play"></i>
                <span>Launch Game</span>
                <kbd>Enter</kbd>
            </div>
            <div class="context-item" data-action="info">
                <i class="fas fa-info-circle"></i>
                <span>Game Information</span>
                <kbd>Ctrl+I</kbd>
            </div>
            <div class="context-separator"></div>
            <div class="context-item" data-action="settings">
                <i class="fas fa-cog"></i>
                <span>Game Settings</span>
                <kbd>Ctrl+S</kbd>
            </div>
            <div class="context-item" data-action="uninstall">
                <i class="fas fa-trash"></i>
                <span>Uninstall</span>
                <kbd>Del</kbd>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Launching <span id="loadingGameName"></span>...</div>
        </div>
    </div>

    <script src="background.js"></script>
    <script>
        // Time and Date Management
        function updateTime() {
            const now = new Date();
            const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: true };
            const dateOptions = { weekday: 'long', month: 'short', day: 'numeric' };
            
            const timeString = now.toLocaleTimeString([], timeOptions);
            const dateString = now.toLocaleDateString([], dateOptions);
            const shortDate = now.toLocaleDateString([], { month: 'short', day: 'numeric' });
            
            document.getElementById('currentTime').textContent = timeString;
            document.getElementById('currentDate').textContent = dateString;
            document.getElementById('taskbarTime').textContent = timeString;
            document.getElementById('taskbarDate').textContent = shortDate;
        }
        
        setInterval(updateTime, 1000);
        updateTime();

        // Game Card Interactions
        const gameCards = document.querySelectorAll('.game-card');
        const contextMenu = document.getElementById('contextMenu');
        const loadingOverlay = document.getElementById('loadingOverlay');
        let activeCard = null;

        gameCards.forEach(card => {
            // Click to launch
            card.addEventListener('click', function(e) {
                e.preventDefault();
                launchGame(this);
            });

            // Right-click context menu
            card.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                showContextMenu(e, this);
            });

            // Hover effects
            card.addEventListener('mouseenter', function() {
                this.classList.add('hovered');
            });

            card.addEventListener('mouseleave', function() {
                this.classList.remove('hovered');
            });
        });

        // Context Menu Functions
        function showContextMenu(e, card) {
            activeCard = card;
            const gameName = card.querySelector('.game-title').textContent;
            document.getElementById('contextGameName').textContent = gameName;
            
            contextMenu.classList.remove('hidden');
            contextMenu.style.left = e.pageX + 'px';
            contextMenu.style.top = e.pageY + 'px';
            
            // Adjust position if menu goes off screen
            const rect = contextMenu.getBoundingClientRect();
            if (rect.right > window.innerWidth) {
                contextMenu.style.left = (e.pageX - rect.width) + 'px';
            }
            if (rect.bottom > window.innerHeight) {
                contextMenu.style.top = (e.pageY - rect.height) + 'px';
            }
        }

        function hideContextMenu() {
            contextMenu.classList.add('hidden');
            activeCard = null;
        }

        // Context menu item clicks
        document.querySelectorAll('.context-item').forEach(item => {
            item.addEventListener('click', function() {
                const action = this.dataset.action;
                if (activeCard) {
                    handleContextAction(action, activeCard);
                }
                hideContextMenu();
            });
        });

        function handleContextAction(action, card) {
            const gameName = card.querySelector('.game-title').textContent;
            
            switch(action) {
                case 'launch':
                    launchGame(card);
                    break;
                case 'info':
                    showGameInfo(gameName);
                    break;
                case 'settings':
                    showGameSettings(gameName);
                    break;
                case 'uninstall':
                    confirmUninstall(gameName);
                    break;
            }
        }

        // Game Launch Function
        function launchGame(card) {
            const gameName = card.querySelector('.game-title').textContent;
            
            // Add launch animation
            card.classList.add('launching');
            
            // Show loading overlay
            document.getElementById('loadingGameName').textContent = gameName;
            loadingOverlay.classList.remove('hidden');
            
            // Simulate game launch
            setTimeout(() => {
                loadingOverlay.classList.add('hidden');
                card.classList.remove('launching');
                
                // Show success message
                showNotification(`${gameName} launched successfully!`, 'success');
            }, 2000);
        }

        // Utility Functions
        function showGameInfo(gameName) {
            showNotification(`Showing information for ${gameName}`, 'info');
        }

        function showGameSettings(gameName) {
            showNotification(`Opening settings for ${gameName}`, 'info');
        }

        function confirmUninstall(gameName) {
            if (confirm(`Are you sure you want to uninstall ${gameName}?`)) {
                showNotification(`${gameName} has been uninstalled`, 'warning');
            }
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Global Event Listeners
        document.addEventListener('click', function(e) {
            if (!contextMenu.contains(e.target)) {
                hideContextMenu();
            }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                hideContextMenu();
            }
        });

        // Prevent context menu on non-game elements
        document.addEventListener('contextmenu', function(e) {
            if (!e.target.closest('.game-card')) {
                e.preventDefault();
            }
        });

        // Enhanced Desktop Functionality
        
        // System monitoring data simulation
        const systemData = {
            cpu: { usage: 45, cores: 8, temperature: 62, frequency: 3.2 },
            memory: { used: 8.2, total: 16, available: 7.8 },
            temperature: { cpu: 62, gpu: 58, motherboard: 45 }
        };

        // Game database with detailed information
        const gameDatabase = {
            'space-explorer': {
                title: 'Space Explorer',
                genre: 'Action Adventure',
                description: 'Embark on an epic journey through the cosmos in this thrilling space adventure. Explore distant planets, battle alien creatures, and uncover the mysteries of the universe.',
                rating: 4.8,
                playtime: '45 hours',
                achievements: 28,
                screenshots: [
                    'https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?w=400',
                    'https://images.unsplash.com/photo-1502134249126-9f3755a50d78?w=400'
                ],
                settings: {
                    graphics: { quality: 'Ultra', resolution: '1920x1080', vsync: true, antialiasing: 'MSAA 4x' },
                    audio: { master: 80, effects: 75, music: 60, voice: 85 },
                    controls: { sensitivity: 7, invertY: false, autoAim: false }
                }
            },
            'mind-bender': {
                title: 'Mind Bender',
                genre: 'Puzzle Strategy',
                description: 'Challenge your intellect with mind-bending puzzles that will test your logic and creativity. Each level presents unique challenges that require innovative thinking.',
                rating: 4.6,
                playtime: '25 hours',
                achievements: 15,
                screenshots: [
                    'https://images.unsplash.com/photo-1606092195730-5d7b9af1efc5?w=400',
                    'https://images.unsplash.com/photo-1511512578047-dfb367046420?w=400'
                ],
                settings: {
                    graphics: { quality: 'High', resolution: '1920x1080', vsync: true, antialiasing: 'FXAA' },
                    audio: { master: 70, effects: 65, music: 80, voice: 75 },
                    controls: { sensitivity: 5, hints: true, autoSave: true }
                }
            },
            'speed-racer': {
                title: 'Speed Racer',
                genre: 'Racing Simulation',
                description: 'Experience the thrill of high-speed racing with realistic physics and stunning visuals. Race on iconic tracks around the world and customize your dream car.',
                rating: 4.7,
                playtime: '60 hours',
                achievements: 35,
                screenshots: [
                    'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400',
                    'https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=400'
                ],
                settings: {
                    graphics: { quality: 'Ultra', resolution: '2560x1440', vsync: false, antialiasing: 'TAA' },
                    audio: { master: 85, effects: 90, music: 70, voice: 80 },
                    controls: { sensitivity: 8, assists: false, forceFeedback: true }
                }
            },
            'strategy-master': {
                title: 'Strategy Master',
                genre: 'Turn-based Strategy',
                description: 'Command armies and build empires in this deep strategic experience. Every decision matters as you navigate complex political and military challenges.',
                rating: 4.9,
                playtime: '120 hours',
                achievements: 42,
                screenshots: [
                    'https://images.unsplash.com/photo-1611996575749-79a3a250f948?w=400',
                    'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400'
                ],
                settings: {
                    graphics: { quality: 'High', resolution: '1920x1080', vsync: true, antialiasing: 'MSAA 2x' },
                    audio: { master: 75, effects: 70, music: 85, voice: 80 },
                    controls: { sensitivity: 6, tooltips: true, autoEndTurn: false }
                }
            },
            'quest-world': {
                title: 'Quest World',
                genre: 'Open World RPG',
                description: 'Immerse yourself in a vast fantasy world filled with epic quests, memorable characters, and endless adventures. Your choices shape the destiny of the realm.',
                rating: 4.8,
                playtime: '200 hours',
                achievements: 67,
                screenshots: [
                    'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
                    'https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400'
                ],
                settings: {
                    graphics: { quality: 'Ultra', resolution: '1920x1080', vsync: true, antialiasing: 'TAA' },
                    audio: { master: 80, effects: 75, music: 90, voice: 85 },
                    controls: { sensitivity: 7, subtitles: true, quickSave: true }
                }
            },
            'cyber-strike': {
                title: 'Cyber Strike',
                genre: 'FPS Shooter',
                description: 'Enter the cyberpunk battlefield in this intense first-person shooter. Use advanced weapons and cybernetic enhancements to dominate your opponents.',
                rating: 4.5,
                playtime: '80 hours',
                achievements: 31,
                screenshots: [
                    'https://images.unsplash.com/photo-1542751371-adc38448a05e?w=400',
                    'https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400'
                ],
                settings: {
                    graphics: { quality: 'Ultra', resolution: '1920x1080', vsync: false, antialiasing: 'MSAA 4x' },
                    audio: { master: 85, effects: 95, music: 65, voice: 80 },
                    controls: { sensitivity: 9, crosshair: 'dot', recoilCompensation: false }
                }
            }
        };

        // Initialize enhanced functionality
        document.addEventListener('DOMContentLoaded', function() {
            initializeSystemMonitoring();
            initializeTimeDisplay();
            initializeEnhancedGameInteractions();
            initializeStartMenu();
            initializeSystemTray();
        });

        // System monitoring with real-time updates
        function initializeSystemMonitoring() {
            // Add click handlers for system info items
            document.querySelectorAll('.info-item').forEach(item => {
                item.addEventListener('click', function() {
                    const infoType = this.dataset.info;
                    showSystemInfoModal(infoType);
                });
            });

            // Simulate real-time system data updates
            setInterval(updateSystemData, 2000);
        }

        function updateSystemData() {
            // Simulate CPU usage fluctuation
            systemData.cpu.usage = Math.max(20, Math.min(95, systemData.cpu.usage + (Math.random() - 0.5) * 10));
            document.getElementById('cpuUsage').textContent = `CPU ${Math.round(systemData.cpu.usage)}%`;

            // Simulate memory usage changes
            systemData.memory.used = Math.max(4, Math.min(14, systemData.memory.used + (Math.random() - 0.5) * 0.5));
            document.getElementById('memoryUsage').textContent = `${systemData.memory.used.toFixed(1)}GB`;

            // Simulate temperature changes
            systemData.temperature.cpu = Math.max(45, Math.min(85, systemData.temperature.cpu + (Math.random() - 0.5) * 3));
            document.getElementById('tempReading').textContent = `${Math.round(systemData.temperature.cpu)}¬∞C`;
        }

        function showSystemInfoModal(infoType) {
            showNotification(`Opening ${infoType.toUpperCase()} monitoring panel...`, 'info');
            
            setTimeout(() => {
                let content = '';
                switch(infoType) {
                    case 'cpu':
                        content = `CPU: Intel Core i7-12700K\n${systemData.cpu.cores} Cores, ${systemData.cpu.frequency}GHz\nUsage: ${Math.round(systemData.cpu.usage)}%\nTemperature: ${systemData.temperature.cpu}¬∞C`;
                        break;
                    case 'memory':
                        const memoryPercent = (systemData.memory.used / systemData.memory.total) * 100;
                        content = `Memory: ${systemData.memory.total}GB DDR4\nUsed: ${systemData.memory.used.toFixed(1)}GB (${Math.round(memoryPercent)}%)\nAvailable: ${systemData.memory.available.toFixed(1)}GB\nSpeed: 3200MHz`;
                        break;
                    case 'temperature':
                        content = `System Temperatures:\nCPU: ${systemData.temperature.cpu}¬∞C\nGPU: ${systemData.temperature.gpu}¬∞C\nMotherboard: ${systemData.temperature.motherboard}¬∞C`;
                        break;
                }
                alert(content);
            }, 500);
        }

        // Enhanced time display with calendar functionality
        function initializeTimeDisplay() {
            function updateTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('en-US', { 
                    hour12: false, 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                const dateString = now.toLocaleDateString('en-US', { 
                    weekday: 'short', 
                    month: 'short', 
                    day: 'numeric' 
                });
                
                document.getElementById('currentTime').textContent = timeString;
                document.getElementById('currentDate').textContent = dateString;
            }

            updateTime();
            setInterval(updateTime, 1000);

            // Add click handler for calendar
            document.getElementById('timeSection').addEventListener('click', showCalendar);
        }

        function showCalendar() {
            const now = new Date();
            const dateInfo = `Today: ${now.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            })}\n\nUpcoming Events:\n‚Ä¢ System Maintenance - Tomorrow 2:00 AM\n‚Ä¢ Game Update Available - Space Explorer\n‚Ä¢ Weekly Backup - Friday 11:00 PM`;
            
            showNotification('Opening calendar...', 'info');
            setTimeout(() => alert(dateInfo), 500);
        }

        // Enhanced game interactions
        function initializeEnhancedGameInteractions() {
            const contextMenu = document.getElementById('contextMenu');
            const loadingOverlay = document.getElementById('loadingOverlay');
            let activeCard = null;

            // Game card interactions
            document.querySelectorAll('.game-card').forEach(card => {
                card.addEventListener('click', function() {
                    launchGame(this);
                });

                card.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    activeCard = this;
                    showContextMenu(e.clientX, e.clientY);
                });

                card.addEventListener('mouseenter', function() {
                    this.classList.add('hovered');
                });

                card.addEventListener('mouseleave', function() {
                    this.classList.remove('hovered');
                });
            });

            // Context menu actions
            document.querySelectorAll('.context-item').forEach(item => {
                item.addEventListener('click', function() {
                    const action = this.dataset.action;
                    if (activeCard) {
                        handleContextAction(action, activeCard);
                    }
                    hideContextMenu();
                });
            });

            function handleContextAction(action, card) {
                const gameId = card.dataset.game;
                const gameData = gameDatabase[gameId];
                
                switch(action) {
                    case 'launch':
                        launchGame(card);
                        break;
                    case 'info':
                        showGameInfo(gameData);
                        break;
                    case 'settings':
                        showGameSettings(gameData);
                        break;
                    case 'uninstall':
                        confirmUninstall(gameData.title);
                        break;
                }
            }

            function showGameInfo(gameData) {
                const info = `${gameData.title}\n${gameData.genre}\n\n${gameData.description}\n\nRating: ${gameData.rating}/5 stars\nPlaytime: ${gameData.playtime}\nAchievements: ${gameData.achievements}`;
                showNotification('Loading game information...', 'info');
                setTimeout(() => alert(info), 500);
            }

            function showGameSettings(gameData) {
                const settings = `${gameData.title} Settings\n\nGraphics:\n‚Ä¢ Quality: ${gameData.settings.graphics.quality}\n‚Ä¢ Resolution: ${gameData.settings.graphics.resolution}\n‚Ä¢ V-Sync: ${gameData.settings.graphics.vsync ? 'On' : 'Off'}\n‚Ä¢ Anti-aliasing: ${gameData.settings.graphics.antialiasing}\n\nAudio:\n‚Ä¢ Master: ${gameData.settings.audio.master}%\n‚Ä¢ Effects: ${gameData.settings.audio.effects}%\n‚Ä¢ Music: ${gameData.settings.audio.music}%\n‚Ä¢ Voice: ${gameData.settings.audio.voice}%`;
                showNotification('Opening game settings...', 'info');
                setTimeout(() => alert(settings), 500);
            }
        }

        // Start Menu functionality
        function initializeStartMenu() {
            const startButton = document.getElementById('startButton');
            const startMenu = document.getElementById('startMenu');
            
            if (startButton) {
                startButton.addEventListener('click', function(e) {
                    e.stopPropagation();
                    toggleStartMenu();
                });
            }

            // Simulate start menu with notification
            function toggleStartMenu() {
                showNotification('Start Menu opened', 'info');
                setTimeout(() => {
                    const menuItems = 'Start Menu:\n\nüìÅ File Manager\n‚öôÔ∏è Settings\nüìä Task Manager\nüßÆ Calculator\n\nüîß System Tools:\nüìã Registry Editor\nüíª Terminal\n\n‚ö° Power Options:\nüåô Sleep\nüîÑ Restart\n‚ö° Shutdown';
                    alert(menuItems);
                }, 300);
            }
        }

        // System Tray functionality
        function initializeSystemTray() {
            document.querySelectorAll('.tray-icon').forEach(icon => {
                icon.addEventListener('click', function() {
                    const trayType = this.dataset.tray;
                    showTrayPanel(trayType);
                });
            });

            function showTrayPanel(trayType) {
                let content = '';
                switch(trayType) {
                    case 'network':
                        content = 'Network Settings:\n\nüì∂ WiFi: Connected\nüåê Network: WebbGames-5G\nüì° Signal: Excellent (95%)\n‚ö° Speed: 150 Mbps\n\nüîß Network Troubleshooter\n‚öôÔ∏è Advanced Settings';
                        break;
                    case 'audio':
                        content = 'Audio Mixer:\n\nüîä Master Volume: 75%\nüéµ Music: 80%\nüéÆ Game Audio: 90%\nüé§ Microphone: 65%\n\nüéß Output Device: Headphones\nüéôÔ∏è Input Device: USB Microphone';
                        break;
                    case 'notifications':
                        content = 'Notifications:\n\nüì¢ System Update Available\nüéÆ 3 Game Updates Ready\nüìß 2 New Messages\n‚ö†Ô∏è Low Disk Space Warning\n\nüîï Do Not Disturb: Off\n‚öôÔ∏è Notification Settings';
                        break;
                    case 'power':
                        content = 'Power Management:\n\nüîã Battery: 87% (Charging)\n‚ö° Power Plan: High Performance\nüå°Ô∏è CPU Temperature: 62¬∞C\n\nüí° Power Saver Mode\n‚öôÔ∏è Advanced Power Settings\nüìä Battery Report';
                        break;
                }
                showNotification(`Opening ${trayType} panel...`, 'info');
                setTimeout(() => alert(content), 500);
            }
        }

        // Enhanced taskbar app functionality
        document.querySelectorAll('.app-icon').forEach(icon => {
            icon.addEventListener('click', function() {
                document.querySelectorAll('.app-icon').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                const appType = this.dataset.app;
                const title = this.getAttribute('title');
                
                showNotification(`Opening ${title}...`, 'info');
                
                setTimeout(() => {
                    let content = '';
                    switch(appType) {
                        case 'files':
                            content = 'File Manager:\n\nüìÅ Documents\nüìÅ Downloads\nüìÅ Pictures\nüìÅ Videos\nüìÅ Games\n\nüíæ Local Disk (C:) - 256 GB free\nüíø Local Disk (D:) - 1.2 TB free';
                            break;
                        case 'settings':
                            content = 'System Settings:\n\nüñ•Ô∏è Display & Graphics\nüîä Sound & Audio\nüåê Network & Internet\nüîê Privacy & Security\n‚öôÔ∏è System & Performance\nüéÆ Gaming & Apps\nüë§ User Accounts';
                            break;
                        case 'taskmanager':
                            content = 'Task Manager:\n\nüìä Performance:\n‚Ä¢ CPU: 45% (Intel i7-12700K)\n‚Ä¢ Memory: 8.2/16 GB (51%)\n‚Ä¢ Disk: 15% activity\n‚Ä¢ Network: 2.5 Mbps\n\nüîÑ Running Processes: 127\n‚ö° Startup Programs: 12 enabled';
                            break;
                        case 'calculator':
                            content = 'Calculator Ready\n\nStandard Calculator Mode\n\n[7] [8] [9] [√∑]\n[4] [5] [6] [√ó]\n[1] [2] [3] [-]\n[0] [.] [=] [+]\n\nResult: 0';
                            break;
                    }
                    alert(content);
                }, 500);
            });
        });

        // Initialize
        console.log('WebbGames Desktop with Enhanced Functionality initialized successfully');
    </script>
</body>
</html>
